<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.js"></script> -->
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
    var img;
      let z = 0;
      var uval = 0.1;
    // var c = [{x:0, y:0, z:0}, [x:0, y:100, z:0],[x:100, y:100, z:0],[x:100, y:100, z:0]];
    // var c = [{x: 30, y: 75, z:0}, {x:40, y:20, z:0}, {x:50, y:75, z:0}, {x:60, y:20, z:0}, {x:70, y:75, z:0}, {x:80, y:20, z:0}, {x:90, y:75, z:0}, {x:100, y:20, z:0}, {x:110, y:75, z:0}, {x:120, y:20, z:0}];
var c = [{x:0, y:0, z:0}, {x:0, y:20, z:0}, {x:20, y:0, z:0}, {x:20, y:20, z:0}, {x:40, y:0, z:0}, {x:40, y:20, z:0}, {x:60, y:0, z:0}, {x:60, y:20, z:0}, {x:80, y:0, z:0}, {x:80, y:20, z:0}, {x:100, y:0, z:0}, {x:100, y:20, z:0}, {x:120, y:0, z:0}, {x:120, y:20, z:0}, {x:140, y:0, z:0}, {x:140, y:20, z:0}, {x:160, y:0, z:0}, {x:160, y:20, z:0}, {x:180, y:0, z:0}, {x:180, y:20, z:0}, {x:200, y:0, z:0}, {x:200, y:20, z:0}, {x:220, y:0, z:0}, {x:220, y:20, z:0}, {x:240, y:0, z:0}, {x:240, y:20, z:0}, {x:0, y:20, z:0}, {x:0, y:40, z:0}, {x:20, y:20, z:0}, {x:20, y:40, z:0}, {x:40, y:20, z:0}, {x:40, y:40, z:0}, {x:60, y:20, z:0}, {x:60, y:40, z:0}, {x:80, y:20, z:0}, {x:80, y:40, z:0}, {x:100, y:20, z:0}, {x:100, y:40, z:0}, {x:120, y:20, z:0}, {x:120, y:40, z:0}, {x:140, y:20, z:0}, {x:140, y:40, z:0}, {x:160, y:20, z:0}, {x:160, y:40, z:0}, {x:180, y:20, z:0}, {x:180, y:40, z:0}, {x:200, y:20, z:0}, {x:200, y:40, z:0}, {x:220, y:20, z:0}, {x:220, y:40, z:0}, {x:240, y:20, z:0}, {x:240, y:40, z:0}, {x:0, y:40, z:0}, {x:0, y:60, z:0}, {x:20, y:40, z:0}, {x:20, y:60, z:0}, {x:40, y:40, z:0}, {x:40, y:60, z:0}, {x:60, y:40, z:0}, {x:60, y:60, z:0}, {x:80, y:40, z:0}, {x:80, y:60, z:0}, {x:100, y:40, z:0}, {x:100, y:60, z:0}, {x:120, y:40, z:0}, {x:120, y:60, z:0}, {x:140, y:40, z:0}, {x:140, y:60, z:0}, {x:160, y:40, z:0}, {x:160, y:60, z:0}, {x:180, y:40, z:0}, {x:180, y:60, z:0}, {x:200, y:40, z:0}, {x:200, y:60, z:0}, {x:220, y:40, z:0}, {x:220, y:60, z:0}, {x:240, y:40, z:0}, {x:240, y:60, z:0}, {x:0, y:60, z:0}, {x:0, y:80, z:0}, {x:20, y:60, z:0}, {x:20, y:80, z:0}, {x:40, y:60, z:0}, {x:40, y:80, z:0}, {x:60, y:60, z:0}, {x:60, y:80, z:0}, {x:80, y:60, z:0}, {x:80, y:80, z:0}, {x:100, y:60, z:0}, {x:100, y:80, z:0}, {x:120, y:60, z:0}, {x:120, y:80, z:0}, {x:140, y:60, z:0}, {x:140, y:80, z:0}, {x:160, y:60, z:0}, {x:160, y:80, z:0}, {x:180, y:60, z:0}, {x:180, y:80, z:0}, {x:200, y:60, z:0}, {x:200, y:80, z:0}, {x:220, y:60, z:0}, {x:220, y:80, z:0}, {x:240, y:60, z:0}, {x:240, y:80, z:0}, {x:0, y:80, z:0}, {x:0, y:100, z:0}, {x:20, y:80, z:0}, {x:20, y:100, z:0}, {x:40, y:80, z:0}, {x:40, y:100, z:0}, {x:60, y:80, z:0}, {x:60, y:100, z:0}, {x:80, y:80, z:0}, {x:80, y:100, z:0}, {x:100, y:80, z:0}, {x:100, y:100, z:0}, {x:120, y:80, z:0}, {x:120, y:100, z:0}, {x:140, y:80, z:0}, {x:140, y:100, z:0}, {x:160, y:80, z:0}, {x:160, y:100, z:0}, {x:180, y:80, z:0}, {x:180, y:100, z:0}, {x:200, y:80, z:0}, {x:200, y:100, z:0}, {x:220, y:80, z:0}, {x:220, y:100, z:0}, {x:240, y:80, z:0}, {x:240, y:100, z:0}, {x:0, y:100, z:0}, {x:0, y:120, z:0}, {x:20, y:100, z:0}, {x:20, y:120, z:0}, {x:40, y:100, z:0}, {x:40, y:120, z:0}, {x:60, y:100, z:0}, {x:60, y:120, z:0}, {x:80, y:100, z:0}, {x:80, y:120, z:0}, {x:100, y:100, z:0}, {x:100, y:120, z:0}, {x:120, y:100, z:0}, {x:120, y:120, z:0}, {x:140, y:100, z:0}, {x:140, y:120, z:0}, {x:160, y:100, z:0}, {x:160, y:120, z:0}, {x:180, y:100, z:0}, {x:180, y:120, z:0}, {x:200, y:100, z:0}, {x:200, y:120, z:0}, {x:220, y:100, z:0}, {x:220, y:120, z:0}, {x:240, y:100, z:0}, {x:240, y:120, z:0}, {x:0, y:120, z:0}, {x:0, y:140, z:0}, {x:20, y:120, z:0}, {x:20, y:140, z:0}, {x:40, y:120, z:0}, {x:40, y:140, z:0}, {x:60, y:120, z:0}, {x:60, y:140, z:0}, {x:80, y:120, z:0}, {x:80, y:140, z:0}, {x:100, y:120, z:0}, {x:100, y:140, z:0}, {x:120, y:120, z:0}, {x:120, y:140, z:0}, {x:140, y:120, z:0}, {x:140, y:140, z:0}, {x:160, y:120, z:0}, {x:160, y:140, z:0}, {x:180, y:120, z:0}, {x:180, y:140, z:0}, {x:200, y:120, z:0}, {x:200, y:140, z:0}, {x:220, y:120, z:0}, {x:220, y:140, z:0}, {x:240, y:120, z:0}, {x:240, y:140, z:0}, {x:0, y:140, z:0}, {x:0, y:160, z:0}, {x:20, y:140, z:0}, {x:20, y:160, z:0}, {x:40, y:140, z:0}, {x:40, y:160, z:0}, {x:60, y:140, z:0}, {x:60, y:160, z:0}, {x:80, y:140, z:0}, {x:80, y:160, z:0}, {x:100, y:140, z:0}, {x:100, y:160, z:0}, {x:120, y:140, z:0}, {x:120, y:160, z:0}, {x:140, y:140, z:0}, {x:140, y:160, z:0}, {x:160, y:140, z:0}, {x:160, y:160, z:0}, {x:180, y:140, z:0}, {x:180, y:160, z:0}, {x:200, y:140, z:0}, {x:200, y:160, z:0}, {x:220, y:140, z:0},{x:220, y:160, z:0},{x:240, y:140, z:0}, {x:240, y:160, z:0}, {x:0, y:160, z:0}, {x:0, y:180, z:0}, {x:20, y:160, z:0},{x:20, y:180, z:0},{x:40, y:160, z:0},{x:40, y:180, z:0},{x:60, y:160, z:0},{x:60, y:180, z:0},{x:80, y:160, z:0},{x:80, y:180, z:0},{x:100, y:160, z:0},{x:100, y:180, z:0},{x:120, y:160, z:0},{x:120, y:180, z:0},{x:140, y:160, z:0},{x:140, y:180, z:0},{x:160, y:160, z:0},{x:160, y:180, z:0},{x:180, y:160, z:0},{x:180, y:180, z:0},{x:200, y:160, z:0},{x:200, y:180, z:0},{x:220, y:160, z:0},{x:220, y:180, z:0},{x:240, y:160, z:0},{x:240, y:180, z:0},{x:0, y:180, z:0},{x:0, y:200, z:0},{x:20, y:180, z:0},{x:20, y:200, z:0},{x:40, y:180, z:0},{x:40, y:200, z:0},{x:60, y:180, z:0},{x:60, y:200, z:0},{x:80, y:180, z:0},{x:80, y:200, z:0},{x:100, y:180, z:0},{x:100, y:200, z:0},{x:120, y:180, z:0},{x:120, y:200, z:0},{x:140, y:180, z:0},{x:140, y:200, z:0},{x:160, y:180, z:0},{x:160, y:200, z:0},{x:180, y:180, z:0},{x:180, y:200, z:0},{x:200, y:180, z:0}, {x:200, y:200, z:0},{x:220, y:180, z:0},{x:220, y:200, z:0}, {x:240, y:180, z:0},{x:240, y:200, z:0},{x:0, y:200, z:0},{x:0, y:220, z:0},{x:20, y:200, z:0},{x:20, y:220, z:0},{x:40, y:200, z:0},{x:40, y:220, z:0},{x:60, y:200, z:0},{x:60, y:220, z:0},{x:80, y:200, z:0},{x:80, y:220, z:0},{x:100, y:200, z:0},{x:100, y:220, z:0},{x:120, y:200, z:0},{x:120, y:220, z:0},{x:140, y:200, z:0},{x:140, y:220, z:0},{x:160, y:200, z:0},{x:160, y:220, z:0},{x:180, y:200, z:0},{x:180, y:220, z:0},{x:200, y:200, z:0},{x:200, y:220, z:0},{x:220, y:200, z:0}, {x:220, y:220, z:0},{x:240, y:200, z:0},{x:240, y:220, z:0},{x:0, y:220, z:0},{x:0, y:240, z:0},{x:20, y:220, z:0},{x:20, y:240, z:0},{x:40, y:220, z:0},{x:40, y:240, z:0},{x:60, y:220, z:0},{x:60, y:240, z:0},{x:80, y:220, z:0},{x:80, y:240, z:0}, {x:100, y:220, z:0}, {x:100, y:240, z:0}, {x:120, y:220, z:0}, {x:120, y:240, z:0}, {x:140, y:220, z:0}, {x:140, y:240, z:0}, {x:160, y:220, z:0}, {x:160, y:240, z:0}, {x:180, y:220, z:0}, {x:180, y:240, z:0}, {x:200, y:220, z:0}, {x:200, y:240, z:0}, {x:220, y:220, z:0}, {x:220, y:240, z:0}, {x:240, y:220, z:0}, {x:240, y:240, z:0}]



  function preload(){
      img = loadImage('008.jpg');
    }

      function setup(){
        createCanvas(windowWidth, windowHeight, WEBGL);
        var frameCount = 0;
      }
      function draw(){

        orbitControl();
        textureWrap(CLAMP);
        textureMode(NORMAL);

          fill(255);
      translate(-200, -200, -200);
      beginShape(TRIANGLE_STRIP);
      for (let i = 0; i < c.length; i++){
          texture(img);
          let coord = c[i];
          let u = map(coord.x, -img.width * uval, img.width * 0.5, 0, 1);
          let v = map(coord.y, -img.height * uval, img.height * 0.5, 1, 0);
          if (dist(mouseX - width /2, mouseY - height/ 2, coord.x-200, coord.y-200)<70){
                  coord.z+=2;
                }
          vertex(coord.x, coord.y, svvi(coord.z), u, v);
        }
    endShape();
      }

      function mousePressed(){
        uval = random(0,1);
      }

      function svvi(x){
        var y = sin(x/(sin(x/30)*10+290))*500;
          // console.log(y);
        return y;
        // console.log(y);
      }

    </script>


  </body>
</html>
